<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" lang="en">
<head th:replace="fragments :: head"></head>
<body>
    <div th:replace="fragments :: navbar"></div>

    <h1>hi</h1>

    <form action="/search" method="POST">

        <label for="searchInput">Search: </label>
        <input type="text" name="searchInput" id="searchInput"/>
        <input type="submit" value="submit"/>
        <p th:if="${validation}" th:text="${validation}"></p>

    </form>

<!--    <div th:if="${restaurants}" id="results">-->

<!--        <th:block th:each="map : ${restaurants}">-->
<!--            <div>-->
<!--                <span th:text="${map.key}"></span>-->
<!--                <p></p>-->
<!--                <th:block th:each="field : ${map.value}">-->
<!--                    <span th:text="${field.key}"></span>-->
<!--                    <img th:if="${field.key == 'photos: '}" th:src="${field.value.get(0)}"/>-->
<!--                    <span th:unless="${field.key == 'photos: '}" th:text="${field.value}"></span>-->
<!--                    <p></p>-->
<!--                </th:block>-->
<!--            </div><br><br><br><br><br>-->
<!--        </th:block>-->

<!--    </div>-->

    <div th:if="${restaurants}" align="left">
        <table class="table" width="100%" align="left">

            <thead>
            Results:
            </thead>

            <tbody>
            <th:block th:each="restaurant : ${restaurants}">
                <tr>
                    <td> <a th:href="@{/search/restaurant(placeId=${restaurant.value.get('place_id: ')})}" >
                            <img th:src="${restaurant.value.get('photos: ').get(0)}" width="40%" height="40%"/>
                    </a> </td>
                    <td th:text="${restaurant.value.get('name: ')}" style="font-size: 30px;">
                        <a th:href="@{/search/restaurant(placeId=${restaurant.value.get('place_id: ')})}"></a>
                    </td>
                </tr>
            </th:block>
            </tbody>

        </table>
    </div>


</body>
</html>